2025-03-28 16:54
Tags: #memory

- [C++ Code](#C++%20Code)
- [JS Code](#JS%20Code)
- [Stack](#Stack)
- [Heap](#Heap)
- [External](#External)

| **–ú–µ—Ç—Ä–∏–∫–∞**    | **–û–ø–∏—Å–∞–Ω–∏–µ –∏ —Å–≤—è–∑—å —Å –ø–∞–º—è—Ç—å—é**                                                        | **–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç**                               | **–ö–∞–∫ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è** |
| -------------- | ------------------------------------------------------------------------------------- | ---------------------------------------------- | ------------------ |
| **RSS**        | –û–±—â–∏–π –æ–±—ä–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ RAM. –í–∫–ª—é—á–∞–µ—Ç —Å—Ç–µ–∫, –∫—É—á—É –∏ –≤–Ω–µ—à–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã.  | Stack, Heap, External, C++ Code, –±—É—Ñ–µ—Ä—ã        | `rss`              |
| **Heap Total** | –í—ã–¥–µ–ª–µ–Ω–Ω–∞—è V8 –ø–∞–º—è—Ç—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript-–∫–æ–¥–∞.                                  | JS-–æ–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã, –∑–∞–º—ã–∫–∞–Ω–∏—è, –∫–ª–∞—Å—Å—ã, —Å—Ç—Ä–æ–∫–∏ | `heapTotal`        |
| **Heap Used**  | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —á–∞—Å—Ç—å `heapTotal`, –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â—É—é –Ω–∞–≥—Ä—É–∑–∫—É JS-–∫—É—á–∏.         | –û–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã, —Å—Ç—Ä–æ–∫–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ     | `heapUsed`         |
| **External**   | –ü–∞–º—è—Ç—å –¥–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ C++ –æ–±—ä–µ–∫—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —á–µ—Ä–µ–∑ JS API.                 | `Buffer`, `ArrayBuffer`, —Ñ–∞–π–ª—ã, —Å–µ—Ç–µ–≤—ã–µ —Å–æ–∫–µ—Ç—ã | `external`         |
| **Stack**      | –ü–∞–º—è—Ç—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –±—ã—Å—Ç—Ä–æ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è. | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π, –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —Ä–µ–∫—É—Ä—Å–∏—è | -                  |

---

## C++ Code

–≠—Ç–æ –ø–∞–º—è—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ Node.js, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ C++ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤, —Å–µ—Ç–µ–≤—ã–µ —Å–æ–∫–µ—Ç—ã, –±–∏–Ω–∞—Ä–Ω—ã–µ –±—É—Ñ–µ—Ä—ã –∏ —Ç.–ø.).

–≠—Ç–∞ –ø–∞–º—è—Ç—å —á–∞—Å—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ `process.memoryUsage().external`

> üìå –ü—Ä–∏–º–µ—Ä—ã:  
> –ë—É—Ñ–µ—Ä—ã (`Buffer`), –Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥—É–ª–∏, –±–∏–Ω–∞—Ä–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ø–æ—Ç–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç C++ –∫–æ–¥ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.

---

## JS Code

–≠—Ç–æ –ø–∞–º—è—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Ç–≤–æ–∏–º JavaScript-–∫–æ–¥–æ–º –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏. –í—Å—ë, —á—Ç–æ —Ç—ã —Å–æ–∑–¥–∞–µ—à—å —Å –ø–æ–º–æ—â—å—é –æ–±—ä–µ–∫—Ç–æ–≤, –º–∞—Å—Å–∏–≤–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π, –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ JS - –∂–∏–≤—ë—Ç –≤ JS Code –ø–∞–º—è—Ç–∏.

–≠—Ç–∞ –ø–∞–º—è—Ç—å –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤ **Heap** (–∫—É—á–∞) –∏ —á–∞—Å—Ç–∏—á–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ `heapTotal` –∏ `heapUsed`.

> üìå –ü—Ä–∏–º–µ—Ä—ã:  
> –û–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã, —Å—Ç—Ä–æ–∫–∏, —Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å—ã, –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—ë—Ç —Ç–≤–æ–π –∫–æ–¥.

---

## Stack

–≠—Ç–æ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫–∏–µ –∫–∞–∫:
- –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π
- –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ (return address)

–≠—Ç–æ –≤—Å–µ–≥–¥–∞ –Ω–µ–±–æ–ª—å—à–∞—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –∏ –µ—ë —Ä–∞–∑–º–µ—Ä –∂—ë—Å—Ç–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω. –í `process.memoryUsage()` –Ω–∞–ø—Ä—è–º—É—é –Ω–µ –≤–∏–¥–µ–Ω, –Ω–æ –≤–∫–ª—é—á—ë–Ω –≤ `rss` (–æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∑–∞–Ω—è—Ç–æ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏).

> üìå –ü—Ä–∏–º–µ—Ä—ã:  
> –õ—é–±—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ `let`, `const`, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏, –≥–ª—É–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏.

---

## Heap

–≠—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ (Garbage Collector) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–í Node.js –∑–∞–º–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑:
- `heapTotal` ‚Äî —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –ø–æ–¥ –∫—É—á—É –≤—ã–¥–µ–ª–µ–Ω–æ –¥–≤–∏–∂–∫–æ–º
- `heapUsed` ‚Äî —Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –∑–∞–Ω—è—Ç–æ

> üìå –ü—Ä–∏–º–µ—Ä—ã:  
> –í—Å–µ –æ–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã, –∑–∞–º—ã–∫–∞–Ω–∏—è, —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ "–∂–∏–≤—É—Ç" –¥–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏, —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫—É—á–µ.

---

## External

–≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ø–∞–º—è—Ç–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –Ω–∞–ø—Ä—è–º—É—é JavaScript, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- `Buffer`
- `ArrayBuffer`
- –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç C++ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ —Å–≤—è–∑–∞–Ω—ã —Å —Ä–∞–±–æ—Ç–æ–π —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

> üìå –ü—Ä–∏–º–µ—Ä—ã:
> –ë—É—Ñ–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, —Å–µ—Ç–µ–≤—ã–µ –ø–æ—Ç–æ–∫–∏, WebAssembly –ø–∞–º—è—Ç—å.

---
### Links
[[Base/Node.js/Node.js]]
