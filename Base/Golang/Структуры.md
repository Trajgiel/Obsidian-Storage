2025-11-12 23:56
Tags: #golang 

Структура - это тип данных, который позволяет объединить несколько значений (полей) разных типов в один логический объект.

---

```go
type Circle struct {
    x float64
    y float64
    r float64
}
```
В этом примере мы создаем новый тип `Circle` с полями `x`, `y` и `r`, каждый из которых имеет тип `float64`.

```go
type Circle struct {
    x, y, r float64
}
```

---

Мы можем создать экземпляр нового типа `Circle` несколькими способами:

```go
var c Circle
// или
c := Circle{}
```

```go
c := new(Circle)
```
Это выделит память для всех полей, присвоит каждому из них нулевое значение и вернет указатель (`*Circle`).

```go
c := Circle{x: 0, y: 0, r: 5}
// или
c := Circle{0, 0, 5}
```

---

### Методы

```go
func (c *Circle) area() float64 {
    return math.Pi * c.r * c.r
}
```

Между ключевым словом func и именем функции мы добавили «получателя». Получатель похож на параметр — у него есть имя и тип, но объявление функции таким способом позволяет нам вызывать функцию с помощью оператора .

```go
fmt.Println(c.area())
```

Это гораздо проще прочесть, нам не нужно использовать оператор `&` (Go автоматически предоставляет доступ к указателю на `Circle` для этого метода)

---

### Встраиваемые типы

```go
type Person struct {
    Name string
}

func (p *Person) Talk() {
    fmt.Println("Hi, my name is", p.Name)
}
```

Mы хотим создать новую структуру `Android`, можем сделать так:
```go
type Android struct {
    Person
    Model string
}
```

Мы использовали тип (`Person`) и не написали его имя. Объявленная таким способом структура доступна через имя типа:

```go
a := new(Android)
a.Person.Talk()
```

Но мы также можем вызвать любой метод `Person` прямо из `Android`:
```go
a := new(Android)
a.Talk()
```

Также мы можем при создании инициализировать нужные переменные:
```go
var a = Android{
	Model: "model",
	Person: Person {
		Name: "name",
	},
}
```

---
### Links
[[Golang]]