2025-11-15 21:03
Tags: #golang 

Interfaces — это типы, которые определяют набор методов. Интерфейсы позволяют создавать абстракции, не зависимые от конкретной реализации.

---

```go
type calculator interface {
	add(float64, float64) float64
	subtract(float64, float64) float64
	multi(float64, float64) float64
	div(float64, float64) float64
}
```

---

Интерфейс, который не содержит ни одного метода называется пустым интерфейсом: `interface{}`. Пустой интерфейс может содержать значение любого типа. Пустые интерфейсы используются в коде, где необходимо работать со значениями неизвестного типа.

```go
var i interface{} = 12
```

---

Go позволяет нам совмещать интерфейсы, чтобы показать, что объект должен удовлетворять обоим интерфейсам. Это реализуется через создание нового интерфейса, в который требуемые нам интерфейсы встраиваются:

```go
type ReadWriter interface {
    Reader  // это io.Reader
    Writer  // это io.Writer
}
```

_Обратите внимание на используемые имена интерфейсов: в Go считается правильным называть интерфейс через имя его методов с добавлением суффикса -er, а если таких методов несколько, использовать имена всех методов._

---

### Интерфейс error

В Go довольно много интерфейсов, применяемых повсеместно. Безусловно, наиболее распространенный среди них, это интерфейс error:

```go
type error interface {
    Error() string
}
```

Это знание позволяет нам создавать свои собственные типы ошибок, хранящие требуемые нам сведения о возникшей проблеме. Если же нам достаточно базовой реализации стандартной библиотеки, мы можем использовать пакеты [errors](https://pkg.go.dev/errors) или [fmt](https://pkg.go.dev/fmt).

---

### Интерфейс Stringer

```go
type Stringer interface {
	String() string
}
```

Функция String возвращает текстовое представление объекта: функции из пакета fmt проверяют, удовлетворяет ли переданный функции аргумент интерфейсу Stringer, и если удовлетворяет - он выводится на печать в заданном формате.

---
### Links
[[Base/Golang/Golang]]